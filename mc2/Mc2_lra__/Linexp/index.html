<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Linexp (mc2.Mc2_lra__.Linexp)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../index.html">mc2</a> &#x00BB; <a href="../index.html">Mc2_lra__</a> &#x00BB; Linexp</nav><h1>Module <code>Mc2_lra__.Linexp</code></h1><nav class="toc"><ul><li><a href="#linear-expressions">Linear Expressions</a></li></ul></nav></header><section><header><h2 id="linear-expressions"><a href="#linear-expressions" class="anchor"></a>Linear Expressions</h2></header><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code></dt><dd><p>Linear expression with rational coefficients and rational-typed terms</p></dd></dl><dl><dt class="spec type" id="type-num"><a href="#type-num" class="anchor"></a><code><span class="keyword">type</span> num</code><code> = Q.t</code></dt></dl><dl><dt class="spec value" id="val-equal"><a href="#val-equal" class="anchor"></a><code><span class="keyword">val</span> equal : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-hash"><a href="#val-hash" class="anchor"></a><code><span class="keyword">val</span> hash : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt><dt class="spec value" id="val-pp"><a href="#val-pp" class="anchor"></a><code><span class="keyword">val</span> pp : <span><a href="index.html#type-t">t</a> <a href="../../Mc2_core/index.html#module-Fmt">Mc2_core.Fmt</a>.printer</span></code></dt><dt class="spec value" id="val-pp_no_paren"><a href="#val-pp_no_paren" class="anchor"></a><code><span class="keyword">val</span> pp_no_paren : <span><a href="index.html#type-t">t</a> <a href="../../Mc2_core/index.html#module-Fmt">Mc2_core.Fmt</a>.printer</span></code></dt><dt class="spec value" id="val-empty"><a href="#val-empty" class="anchor"></a><code><span class="keyword">val</span> empty : <a href="index.html#type-t">t</a></code></dt><dd><p>Empty linear expression</p></dd></dl><dl><dt class="spec value" id="val-zero"><a href="#val-zero" class="anchor"></a><code><span class="keyword">val</span> zero : <a href="index.html#type-t">t</a></code></dt><dd><p>Empty linear expression</p><p>alias for <a href="index.html#val-empty"><code>empty</code></a></p></dd></dl><dl><dt class="spec value" id="val-is_const"><a href="#val-is_const" class="anchor"></a><code><span class="keyword">val</span> is_const : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>true if the expressions is constant</p></dd></dl><dl><dt class="spec value" id="val-is_zero"><a href="#val-is_zero" class="anchor"></a><code><span class="keyword">val</span> is_zero : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>true if the expressions is constant and equal to zero</p></dd></dl><dl><dt class="spec value" id="val-add"><a href="#val-add" class="anchor"></a><code><span class="keyword">val</span> add : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Sum of linear expressions</p></dd></dl><dl><dt class="spec value" id="val-diff"><a href="#val-diff" class="anchor"></a><code><span class="keyword">val</span> diff : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Sum of linear expressions</p><p>Diff of linear expressions</p></dd></dl><dl><dt class="spec value" id="val-const"><a href="#val-const" class="anchor"></a><code><span class="keyword">val</span> const : <a href="index.html#type-num">num</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-as_singleton"><a href="#val-as_singleton" class="anchor"></a><code><span class="keyword">val</span> as_singleton : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><span>(<a href="index.html#type-num">num</a> * <a href="../../Mc2_core/index.html#type-term">Mc2_core.term</a>)</span> option</span></code></dt><dd><p>no constant, and exactly one term?</p></dd></dl><dl><dt class="spec value" id="val-mem_term"><a href="#val-mem_term" class="anchor"></a><code><span class="keyword">val</span> mem_term : <a href="../../Mc2_core/index.html#type-term">Mc2_core.term</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-add_term"><a href="#val-add_term" class="anchor"></a><code><span class="keyword">val</span> add_term : <a href="index.html#type-num">num</a> <span>&#45;&gt;</span> <a href="../../Mc2_core/index.html#type-term">Mc2_core.term</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-remove_term"><a href="#val-remove_term" class="anchor"></a><code><span class="keyword">val</span> remove_term : <a href="../../Mc2_core/index.html#type-term">Mc2_core.term</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-get_term"><a href="#val-get_term" class="anchor"></a><code><span class="keyword">val</span> get_term : <a href="../../Mc2_core/index.html#type-term">Mc2_core.term</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><a href="index.html#type-num">num</a> option</span></code></dt><dt class="spec value" id="val-find_term_exn"><a href="#val-find_term_exn" class="anchor"></a><code><span class="keyword">val</span> find_term_exn : <a href="../../Mc2_core/index.html#type-term">Mc2_core.term</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-num">num</a></code></dt><dd><p>Find value for this term, or Not_found</p></dd></dl><dl><dt class="spec value" id="val-singleton"><a href="#val-singleton" class="anchor"></a><code><span class="keyword">val</span> singleton : <a href="index.html#type-num">num</a> <span>&#45;&gt;</span> <a href="../../Mc2_core/index.html#type-term">Mc2_core.term</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-singleton1"><a href="#val-singleton1" class="anchor"></a><code><span class="keyword">val</span> singleton1 : <a href="../../Mc2_core/index.html#type-term">Mc2_core.term</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-singleton_term"><a href="#val-singleton_term" class="anchor"></a><code><span class="keyword">val</span> singleton_term : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../../Mc2_core/index.html#type-term">Mc2_core.term</a></code></dt><dd><p>asserts the given LE is exatly of the form (1 * x) and returns x *</p></dd></dl><dl><dt class="spec value" id="val-neg"><a href="#val-neg" class="anchor"></a><code><span class="keyword">val</span> neg : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Invert sign</p></dd></dl><dl><dt class="spec value" id="val-mult"><a href="#val-mult" class="anchor"></a><code><span class="keyword">val</span> mult : <a href="index.html#type-num">num</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Product by constant</p></dd></dl><dl><dt class="spec value" id="val-div"><a href="#val-div" class="anchor"></a><code><span class="keyword">val</span> div : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-num">num</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>div e n</code> is <code>e/n</code>.</p><dl><dt>raises Division_by_zero</dt><dd><p>if <code>n=0</code></p></dd></dl></dd></dl><dl><dt class="spec value" id="val-simplify"><a href="#val-simplify" class="anchor"></a><code><span class="keyword">val</span> simplify : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>if e is <code>n·x op 0</code>, then rewrite into <code>sign(n)·x op 0</code> *</p></dd></dl><dl><dt class="spec value" id="val-flatten"><a href="#val-flatten" class="anchor"></a><code><span class="keyword">val</span> flatten : <span>f:<span>(<a href="../../Mc2_core/index.html#type-term">Mc2_core.term</a> <span>&#45;&gt;</span> <span><a href="index.html#type-t">t</a> option</span>)</span></span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>flatten f e</code> traverses all terms, and if they are themselves mapped into expressions by <code>f</code>, replaces them by the corresponding expr</p></dd></dl><dl><dt class="spec value" id="val-terms"><a href="#val-terms" class="anchor"></a><code><span class="keyword">val</span> terms : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><a href="../../Mc2_core/index.html#type-term">Mc2_core.term</a> Iter.t</span></code></dt><dt class="spec value" id="val-terms_l"><a href="#val-terms_l" class="anchor"></a><code><span class="keyword">val</span> terms_l : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><a href="../../Mc2_core/index.html#type-term">Mc2_core.term</a> list</span></code></dt><dt class="spec value" id="val-as_const"><a href="#val-as_const" class="anchor"></a><code><span class="keyword">val</span> as_const : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><a href="index.html#type-num">num</a> option</span></code></dt><dt class="spec value" id="val-eval"><a href="#val-eval" class="anchor"></a><code><span class="keyword">val</span> eval : <span>f:<span>(<a href="../../Mc2_core/index.html#type-term">Mc2_core.term</a> <span>&#45;&gt;</span> <span><a href="index.html#type-num">num</a> option</span>)</span></span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><span>(<a href="index.html#type-num">num</a> * <span><a href="../../Mc2_core/index.html#type-term">Mc2_core.term</a> list</span>)</span> option</span></code></dt><dd><p><code>eval e</code> evaluates the expression if all subterms (returned in a list) have a value according to <code>f</code></p></dd></dl><div class="spec module" id="module-Infix"><a href="#module-Infix" class="anchor"></a><code><span class="keyword">module</span> <a href="Infix/index.html">Infix</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div></section></div></body></html>