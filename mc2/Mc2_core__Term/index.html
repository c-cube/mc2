<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Mc2_core__Term (mc2.Mc2_core__Term)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc %%VERSION%%"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">mc2</a> &#x00BB; Mc2_core__Term</nav><h1>Module <code>Mc2_core__Term</code></h1><h2 id="modular-term-structure"><a href="#modular-term-structure" class="anchor"></a>Modular Term Structure</h2><nav class="toc"><ul><li><a href="#basics">Basics</a></li><li><a href="#id-management">ID Management</a></li><li><a href="#bool-terms">Bool terms</a></li><li><a href="#1-term-watch-scheme">1-term Watch Scheme</a></li><li><a href="#2-terms-watch-scheme">2-terms Watch Scheme</a></li><li><a href="#assignment-view">Assignment view</a></li><li><a href="#low-level-constructors.-use-at-your-own-risks.">Low Level constructors. Use at your own risks.</a></li><li><a href="#hashconsing-of-terms-belonging-to-a-plugin">Hashconsing of terms belonging to a Plugin</a></li><li><a href="#containers">Containers</a></li></ul></nav></header><dl><dt class="spec type" id="type-view"><a href="#type-view" class="anchor"></a><code><span class="keyword">type</span> view</code><code> = <a href="../Mc2_core__/Solver_types/index.html#type-term_view">Mc2_core__.Solver_types.term_view</a></code><code> = </code><code>..</code></dt><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code><code> = <a href="../Mc2_core__/Solver_types/index.html#type-term">Mc2_core__.Solver_types.term</a></code></dt><dt class="spec type" id="type-tc"><a href="#type-tc" class="anchor"></a><code><span class="keyword">type</span> tc</code><code> = <a href="../Mc2_core__/Solver_types/index.html#type-tc_term">Mc2_core__.Solver_types.tc_term</a></code></dt></dl><section><header><h3 id="basics"><a href="#basics" class="anchor"></a>Basics</h3></header><dl><dt class="spec value" id="val-id"><a href="#val-id" class="anchor"></a><code><span class="keyword">val</span> id : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt><dd><p>Globally unique ID of this term</p></dd></dl><dl><dt class="spec value" id="val-view"><a href="#val-view" class="anchor"></a><code><span class="keyword">val</span> view : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-view">view</a></code></dt><dd><p>Globally unique ID of this term</p></dd></dl><dl><dt class="spec value" id="val-equal"><a href="#val-equal" class="anchor"></a><code><span class="keyword">val</span> equal : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-compare"><a href="#val-compare" class="anchor"></a><code><span class="keyword">val</span> compare : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt><dt class="spec value" id="val-hash"><a href="#val-hash" class="anchor"></a><code><span class="keyword">val</span> hash : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt><dt class="spec value" id="val-pp"><a href="#val-pp" class="anchor"></a><code><span class="keyword">val</span> pp : <span><a href="index.html#type-t">t</a> CCFormat.printer</span></code></dt><dt class="spec value" id="val-debug"><a href="#val-debug" class="anchor"></a><code><span class="keyword">val</span> debug : <span><a href="index.html#type-t">t</a> CCFormat.printer</span></code></dt><dt class="spec value" id="val-debug_no_val"><a href="#val-debug_no_val" class="anchor"></a><code><span class="keyword">val</span> debug_no_val : <span><a href="index.html#type-t">t</a> CCFormat.printer</span></code></dt><dd><p>like <a href="index.html#val-debug"><code>debug</code></a> but does not print val</p></dd></dl></section><section><header><h3 id="id-management"><a href="#id-management" class="anchor"></a>ID Management</h3></header><dl><dt class="spec value" id="val-plugin_id_width"><a href="#val-plugin_id_width" class="anchor"></a><code><span class="keyword">val</span> plugin_id_width : int</code></dt><dd><p>Number of bits dedicated to plugin IDs. There can be at most <code>2 ** plugin_id_width</code> plugins in a solver.</p></dd></dl><dl><dt class="spec value" id="val-plugin_id"><a href="#val-plugin_id" class="anchor"></a><code><span class="keyword">val</span> plugin_id : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../Mc2_core__/Solver_types/index.html#type-plugin_id">Mc2_core__.Solver_types.plugin_id</a></code></dt><dd><p>Which plugin owns this term?</p></dd></dl><dl><dt class="spec value" id="val-plugin_specific_id"><a href="#val-plugin_specific_id" class="anchor"></a><code><span class="keyword">val</span> plugin_specific_id : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt><dd><p>Which plugin owns this term?</p><p>ID of the term for the plugin itself</p></dd></dl><dl><dt class="spec value" id="val-mark"><a href="#val-mark" class="anchor"></a><code><span class="keyword">val</span> mark : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Mark the variable</p></dd></dl><dl><dt class="spec value" id="val-unmark"><a href="#val-unmark" class="anchor"></a><code><span class="keyword">val</span> unmark : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Mark the variable</p><p>Clear the fields of the variable.</p></dd></dl><dl><dt class="spec value" id="val-marked"><a href="#val-marked" class="anchor"></a><code><span class="keyword">val</span> marked : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>Clear the fields of the variable.</p><p>Was <a href="index.html#val-mark"><code>mark</code></a> called on this var?</p></dd></dl><dl><dt class="spec value" id="val-is_deleted"><a href="#val-is_deleted" class="anchor"></a><code><span class="keyword">val</span> is_deleted : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-is_added"><a href="#val-is_added" class="anchor"></a><code><span class="keyword">val</span> is_added : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-level"><a href="#val-level" class="anchor"></a><code><span class="keyword">val</span> level : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../Mc2_core__/Solver_types/index.html#type-level">Mc2_core__.Solver_types.level</a></code></dt><dd><p>decision/assignment level of the term</p></dd></dl><dl><dt class="spec value" id="val-level_for"><a href="#val-level_for" class="anchor"></a><code><span class="keyword">val</span> level_for : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../Mc2_core__/Solver_types/index.html#type-value">Mc2_core__.Solver_types.value</a> <span>&#45;&gt;</span> <a href="../Mc2_core__/Solver_types/index.html#type-level">Mc2_core__.Solver_types.level</a></code></dt><dd><p>decision/assignment level of the term</p><p>level for evaluating into this value</p></dd></dl><dl><dt class="spec value" id="val-var"><a href="#val-var" class="anchor"></a><code><span class="keyword">val</span> var : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../Mc2_core__/Solver_types/index.html#type-var">Mc2_core__.Solver_types.var</a></code></dt><dd><p>level for evaluating into this value</p></dd></dl><dl><dt class="spec value" id="val-ty"><a href="#val-ty" class="anchor"></a><code><span class="keyword">val</span> ty : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../Mc2_core/Type/index.html#type-t">Mc2_core.Type.t</a></code></dt><dt class="spec value" id="val-reason"><a href="#val-reason" class="anchor"></a><code><span class="keyword">val</span> reason : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><a href="../Mc2_core__/Solver_types/index.html#type-reason">Mc2_core__.Solver_types.reason</a> option</span></code></dt><dt class="spec value" id="val-reason_exn"><a href="#val-reason_exn" class="anchor"></a><code><span class="keyword">val</span> reason_exn : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../Mc2_core__/Solver_types/index.html#type-reason">Mc2_core__.Solver_types.reason</a></code></dt><dt class="spec value" id="val-eval"><a href="#val-eval" class="anchor"></a><code><span class="keyword">val</span> eval : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../Mc2_core__/Solver_types/index.html#type-eval_res">Mc2_core__.Solver_types.eval_res</a></code></dt><dt class="spec value" id="val-is_bool"><a href="#val-is_bool" class="anchor"></a><code><span class="keyword">val</span> is_bool : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-level_semantic"><a href="#val-level_semantic" class="anchor"></a><code><span class="keyword">val</span> level_semantic : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../Mc2_core__/Solver_types/index.html#type-level">Mc2_core__.Solver_types.level</a></code></dt><dd><p>maximum level of subterms, or -1 if some subterm is not assigned</p></dd></dl><dl><dt class="spec value" id="val-level_sub"><a href="#val-level_sub" class="anchor"></a><code><span class="keyword">val</span> level_sub : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../Mc2_core__/Solver_types/index.html#type-level">Mc2_core__.Solver_types.level</a></code></dt><dd><p>maximum level of subterms, ignoring unassigned subterms</p></dd></dl><dl><dt class="spec value" id="val-max_level"><a href="#val-max_level" class="anchor"></a><code><span class="keyword">val</span> max_level : <a href="../Mc2_core__/Solver_types/index.html#type-level">Mc2_core__.Solver_types.level</a> <span>&#45;&gt;</span> <a href="../Mc2_core__/Solver_types/index.html#type-level">Mc2_core__.Solver_types.level</a> <span>&#45;&gt;</span> <a href="../Mc2_core__/Solver_types/index.html#type-level">Mc2_core__.Solver_types.level</a></code></dt><dd><p>maximum of the levels, or <code>-1</code> if either is <code>-1</code></p></dd></dl><dl><dt class="spec value" id="val-iter_subterms"><a href="#val-iter_subterms" class="anchor"></a><code><span class="keyword">val</span> iter_subterms : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><a href="index.html#type-t">t</a> Iter.t</span></code></dt><dd><p>Iteration over subterms. When incrementing activity, adding new terms, etc. we want to be able to iterate over all subterms of a formula.</p></dd></dl><dl><dt class="spec value" id="val-subterms"><a href="#val-subterms" class="anchor"></a><code><span class="keyword">val</span> subterms : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><a href="index.html#type-t">t</a> list</span></code></dt><dt class="spec value" id="val-decide_state_exn"><a href="#val-decide_state_exn" class="anchor"></a><code><span class="keyword">val</span> decide_state_exn : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../Mc2_core__/Solver_types/index.html#type-decide_state">Mc2_core__.Solver_types.decide_state</a></code></dt><dd><p>Obtain decide state, or raises if the variable is not semantic</p></dd></dl><dl><dt class="spec value" id="val-weight"><a href="#val-weight" class="anchor"></a><code><span class="keyword">val</span> weight : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> float</code></dt><dd><p>Heuristic weight</p></dd></dl><dl><dt class="spec value" id="val-set_weight"><a href="#val-set_weight" class="anchor"></a><code><span class="keyword">val</span> set_weight : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> float <span>&#45;&gt;</span> unit</code></dt><dd><p>Heuristic weight</p></dd></dl><dl><dt class="spec value" id="val-has_some_value"><a href="#val-has_some_value" class="anchor"></a><code><span class="keyword">val</span> has_some_value : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-has_value"><a href="#val-has_value" class="anchor"></a><code><span class="keyword">val</span> has_value : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../Mc2_core__/Solver_types/index.html#type-value">Mc2_core__.Solver_types.value</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-value"><a href="#val-value" class="anchor"></a><code><span class="keyword">val</span> value : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><a href="../Mc2_core__/Solver_types/index.html#type-value">Mc2_core__.Solver_types.value</a> option</span></code></dt><dt class="spec value" id="val-value_exn"><a href="#val-value_exn" class="anchor"></a><code><span class="keyword">val</span> value_exn : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../Mc2_core__/Solver_types/index.html#type-value">Mc2_core__.Solver_types.value</a></code></dt><dt class="spec value" id="val-mk_eq"><a href="#val-mk_eq" class="anchor"></a><code><span class="keyword">val</span> mk_eq : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Use the term's type to make two terms equal</p></dd></dl><dl><dt class="spec value" id="val-gc_unmark"><a href="#val-gc_unmark" class="anchor"></a><code><span class="keyword">val</span> gc_unmark : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Unmark just this term</p></dd></dl><dl><dt class="spec value" id="val-gc_marked"><a href="#val-gc_marked" class="anchor"></a><code><span class="keyword">val</span> gc_marked : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>Unmark just this term</p></dd></dl><dl><dt class="spec value" id="val-gc_mark"><a href="#val-gc_mark" class="anchor"></a><code><span class="keyword">val</span> gc_mark : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Non recursive</p></dd></dl><dl><dt class="spec value" id="val-field_get"><a href="#val-field_get" class="anchor"></a><code><span class="keyword">val</span> field_get : <a href="../Mc2_core__Solver_types/Term_fields/index.html#type-field">Mc2_core__.Solver_types.Term_fields.field</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-field_set"><a href="#val-field_set" class="anchor"></a><code><span class="keyword">val</span> field_set : <a href="../Mc2_core__Solver_types/Term_fields/index.html#type-field">Mc2_core__.Solver_types.Term_fields.field</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-field_clear"><a href="#val-field_clear" class="anchor"></a><code><span class="keyword">val</span> field_clear : <a href="../Mc2_core__Solver_types/Term_fields/index.html#type-field">Mc2_core__.Solver_types.Term_fields.field</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-has_var"><a href="#val-has_var" class="anchor"></a><code><span class="keyword">val</span> has_var : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>is there a variable for the term?</p></dd></dl><dl><dt class="spec value" id="val-setup_var"><a href="#val-setup_var" class="anchor"></a><code><span class="keyword">val</span> setup_var : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>is there a variable for the term?</p><p>create a variable for the term</p></dd></dl><dl><dt class="spec value" id="val-add_watch"><a href="#val-add_watch" class="anchor"></a><code><span class="keyword">val</span> add_watch : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>add_watch t u</code> adds <code>u</code> to the list of watches of <code>t</code>. <code>u</code> will be notified whenever <code>t</code> is assigned</p></dd></dl></section><section><header><h3 id="bool-terms"><a href="#bool-terms" class="anchor"></a>Bool terms</h3></header><div class="spec module" id="module-Bool"><a href="#module-Bool" class="anchor"></a><code><span class="keyword">module</span> <a href="Bool/index.html">Bool</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div></section><section><header><h3 id="1-term-watch-scheme"><a href="#1-term-watch-scheme" class="anchor"></a>1-term Watch Scheme</h3></header><div class="spec module" id="module-Watch1"><a href="#module-Watch1" class="anchor"></a><code><span class="keyword">module</span> <a href="Watch1/index.html">Watch1</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div></section><section><header><h3 id="2-terms-watch-scheme"><a href="#2-terms-watch-scheme" class="anchor"></a>2-terms Watch Scheme</h3></header><div class="spec module" id="module-Watch2"><a href="#module-Watch2" class="anchor"></a><code><span class="keyword">module</span> <a href="Watch2/index.html">Watch2</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div></section><section><header><h3 id="assignment-view"><a href="#assignment-view" class="anchor"></a>Assignment view</h3></header><dl><dt class="spec value" id="val-assigned"><a href="#val-assigned" class="anchor"></a><code><span class="keyword">val</span> assigned : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-assignment"><a href="#val-assignment" class="anchor"></a><code><span class="keyword">val</span> assignment : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><a href="../Mc2_core__/Solver_types/index.html#type-assignment_view">Mc2_core__.Solver_types.assignment_view</a> option</span></code></dt><dd><p>Current assignment of this term</p></dd></dl></section><section><header><h3 id="low-level-constructors.-use-at-your-own-risks."><a href="#low-level-constructors.-use-at-your-own-risks." class="anchor"></a>Low Level constructors. Use at your own risks.</h3></header><dl><dt class="spec module" id="module-TC"><a href="#module-TC" class="anchor"></a><code><span class="keyword">module</span> <a href="TC/index.html">TC</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd></dd></dl></section><section><header><h3 id="hashconsing-of-terms-belonging-to-a-plugin"><a href="#hashconsing-of-terms-belonging-to-a-plugin" class="anchor"></a>Hashconsing of terms belonging to a Plugin</h3></header><div class="spec module-type" id="module-type-TERM_ALLOC_OPS"><a href="#module-type-TERM_ALLOC_OPS" class="anchor"></a><code><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-TERM_ALLOC_OPS/index.html">TERM_ALLOC_OPS</a> = <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module-type" id="module-type-TERM_ALLOC"><a href="#module-type-TERM_ALLOC" class="anchor"></a><code><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-TERM_ALLOC/index.html">TERM_ALLOC</a> = <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-Term_allocator"><a href="#module-Term_allocator" class="anchor"></a><code><span class="keyword">module</span> <a href="Term_allocator/index.html">Term_allocator</a> : <span class="keyword">functor</span> (<a href="Term_allocator/argument-1-T/index.html">T</a> : <a href="index.html#module-type-TERM_ALLOC_OPS">TERM_ALLOC_OPS</a>) <span>&#45;&gt;</span> <a href="index.html#module-type-TERM_ALLOC">TERM_ALLOC</a></code></div></section><section><header><h3 id="containers"><a href="#containers" class="anchor"></a>Containers</h3></header><div class="spec module" id="module-Tbl"><a href="#module-Tbl" class="anchor"></a><code><span class="keyword">module</span> Tbl : CCHashtbl.S <span class="keyword">with</span> <span class="keyword">type</span> <a href="index.html#module-Tbl">Tbl</a>.key = <a href="../Mc2_core__/Solver_types/index.html#type-term">Mc2_core__.Solver_types.term</a></code></div><div class="spec module" id="module-Map"><a href="#module-Map" class="anchor"></a><code><span class="keyword">module</span> Map : CCMap.S <span class="keyword">with</span> <span class="keyword">type</span> <a href="index.html#module-Map">Map</a>.key = <a href="../Mc2_core__/Solver_types/index.html#type-term">Mc2_core__.Solver_types.term</a></code></div><div class="spec module" id="module-Set"><a href="#module-Set" class="anchor"></a><code><span class="keyword">module</span> Set : CCSet.S <span class="keyword">with</span> <span class="keyword">type</span> <a href="index.html#module-Set">Set</a>.elt = <a href="../Mc2_core__/Solver_types/index.html#type-term">Mc2_core__.Solver_types.term</a></code></div></section></div></body></html>